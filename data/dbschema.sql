DROP TABLE REF_YN;
DROP TABLE REF_HERB;
DROP TABLE REF_TYPES;
DROP TABLE REF_FAM;
DROP TABLE PLANTS;

CREATE TABLE REF_YN
(
YN_ID INTEGER PRIMARY KEY,
YN_VAL TEXT NOT NULL UNIQUE
);

CREATE TABLE REF_HERB
(
H_ID INTEGER PRIMARY KEY AUTOINCREMENT,
HCODE TEXT NOT NULL UNIQUE,
HNAME TEXT NOT NULL,
CITY TEXT,
COUNTRY TEXT,
URL TEXT
);

CREATE TABLE REF_TYPES
(
T_ID INTEGER PRIMARY KEY AUTOINCREMENT,
TCODE TEXT NOT NULL UNIQUE,
TNAME TEXT NOT NULL,
NOTES TEXT
);

CREATE TABLE REF_FAM
(
F_ID INTEGER PRIMARY KEY AUTOINCREMENT,
FAMILY TEXT NOT NULL UNIQUE,
NOTES TEXT
 );
 
CREATE TABLE PLANTS
(
P_ID INTEGER PRIMARY KEY AUTOINCREMENT,
H_ID INT,
HSERIAL TEXT,
T_ID INT,
F_ID INT NOT NULL,
GENUS TEXT,
SPECIES	TEXT,	
IS_FRAGMENT INT,
IS_DRAWING INT,
INFO	TEXT,
SUBSPECIES	TEXT,
VARIETY	TEXT,
ALT_INFO	TEXT,
ALT_GENUS	TEXT,
ALT_SPECIES	TEXT,	
ALT_TYPE	TEXT,	
YR	INT,
FILEPATH TEXT NOT NULL UNIQUE,
FILETYPE TEXT NOT NULL,
NOTES	TEXT,
LAST_UPDATE	DATE DEFAULT CURRENT_DATE,
FOREIGN KEY(H_ID) REFERENCES REF_HERB(H_ID),
FOREIGN KEY(T_ID) REFERENCES REF_TYPES(T_ID),
FOREIGN KEY(F_ID) REFERENCES REF_FAM(F_ID),
FOREIGN KEY(IS_FRAGMENT) REFERENCES REF_YN(YN_ID),
FOREIGN KEY(IS_DRAWING) REFERENCES REF_YN(YN_ID)
);